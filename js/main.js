"document"in self&&!("classList"in document.createElement("_"))&&!function(j){"use strict";if("Element"in j){var a="classList",f="prototype",m=j.Element[f],b=Object,k=String[f].trim||function(){return this.replace(/^\s+|\s+$/g,"")},c=Array[f].indexOf||function(q){for(var p=0,o=this.length;o>p;p++)if(p in this&&this[p]===q)return p;return-1},n=function(o,p){this.name=o,this.code=DOMException[o],this.message=p},g=function(p,o){if(""===o)throw new n("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(o))throw new n("INVALID_CHARACTER_ERR","String contains an invalid character");return c.call(p,o)},d=function(s){for(var r=k.call(s.getAttribute("class")||""),q=r?r.split(/\s+/):[],p=0,o=q.length;o>p;p++)this.push(q[p]);this._updateClassName=function(){s.setAttribute("class",this.toString())}},e=d[f]=[],i=function(){return new d(this)};if(n[f]=Error[f],e.item=function(o){return this[o]||null},e.contains=function(o){return o+="",-1!==g(this,o)},e.add=function(){var q,s=arguments,r=0,p=s.length,o=!1;do q=s[r]+"",-1===g(this,q)&&(this.push(q),o=!0);while(++r<p);o&&this._updateClassName()},e.remove=function(){var r,t=arguments,s=0,p=t.length,o=!1;do{r=t[s]+"";var q=g(this,r);-1!==q&&(this.splice(q,1),o=!0)}while(++s<p);o&&this._updateClassName()},e.toggle=function(p,q){p+="";var o=this.contains(p),r=o?q!==!0&&"remove":q!==!1&&"add";return r&&this[r](p),!o},e.toString=function(){return this.join(" ")},b.defineProperty){var l={get:i,enumerable:!0,configurable:!0};try{b.defineProperty(m,a,l)}catch(h){-2146823252===h.number&&(l.enumerable=!1,b.defineProperty(m,a,l))}}else b[f].__defineGetter__&&m.__defineGetter__(a,i)}}(self),function(global){"use strict";function random(min,max){return min+Math.random()*(max-min)}function randomChoice(array){return array[Math.round(random(0,array.length-1))]}function getElementById(id){return elements[id]||(elements[id]=document.getElementById(id)),elements[id]}function addClass(id,class_){getElementById(id).classList.add(class_)}function removeClass(id,class_){getElementById(id).classList.remove(class_)}function changeText(element,text){getElementById(element).innerHTML="",getElementById(element).appendChild(document.createTextNode(text))}function extractDoorNumber(door){return door?+/door-(\d*)/.exec(door)[1]+1:void 0}function addDoor(number){var newDoor,doorContainer=document.createElement("div");elements["door-"+number]||(newDoor=document.createElement("div"),newDoor.classList.add("door","door-"+number),newDoor.setAttribute("id","door-"+number),elements["door-"+number]=newDoor),newDoor=elements["door-"+number],oneHundredMode?(doorContainer.classList.add("col-xs-2","col-md-1"),newDoor.classList.add("door-100","door-"+number)):(doorContainer.classList.add("col-xs-4","col-md-4"),newDoor.classList.add("door-"+number),newDoor.appendChild(document.createTextNode(number+1))),doorContainer.appendChild(newDoor),getElementById("doors-container").appendChild(doorContainer)}function chooseDoor(id){addClass(id,"door-chosen"),secondChosenDoor&&removeClass(firstChosenDoor,"door-chosen")}function openFirstDoor(){var i,dn,canOpen=[],arrayWithoutFirstChosen=[];for(addClass("bar","active-bar"),i=0;i<Doors.doors.length;i++)"zonk"===Doors.doors[i]&&firstChosenDoor!=="door-"+i&&canOpen.push(i);setTimeout(function(){if(oneHundredMode){if(arrayWithoutFirstChosen=Doors.numbersIds.filter(function(element){return element!==extractDoorNumber(firstChosenDoor)-1}),dn=randomChoice(arrayWithoutFirstChosen),firstOpened="door-"+dn,"car"===Doors.doors[dn])for(lastDoor="door-"+dn,i=0;i<arrayWithoutFirstChosen.length;i++)arrayWithoutFirstChosen[i]!==dn?(addClass("door-"+arrayWithoutFirstChosen[i],"door-zonk"),changeText("door-"+arrayWithoutFirstChosen[i],"zonk")):lastDoor="door-"+i;else for(lastDoor="door-"+Doors.withCar,i=0;i<arrayWithoutFirstChosen.length;i++)arrayWithoutFirstChosen[i]!==Doors.withCar&&(addClass("door-"+arrayWithoutFirstChosen[i],"door-zonk"),changeText("door-"+arrayWithoutFirstChosen[i],"zonk"));return removeClass("bar","active-bar"),addLogMessage(logMessages.askForChangeDoor()),!1}firstOpened="door-"+randomChoice(canOpen),addClass(firstOpened,"door-zonk"),addLogMessage(logMessages.firstOpenedDoor()),changeText(firstOpened,"zonk"),removeClass("bar","active-bar"),addLogMessage(logMessages.askForChangeDoor())},1e3)}function openDoors(){var i;if(!choice||!firstOpened||allDoorsOpen)return!1;for(addLogMessage(logMessages.allDoorsOpen()),i=0;i<Doors.doors.length;i++)"car"===Doors.doors[i]&&choice==="door-"+i?(addClass("door-"+i,"door-car"),changeText("door-"+i,"CAR"),addLogMessage(logMessages.win()),results.setWin()):"car"===Doors.doors[i]&&choice!=="door-"+i?(addClass("door-"+i,"door-car-was"),changeText("door-"+i,"CAR"),addLogMessage(logMessages.lose(i+1)),results.setLose()):"car"!==Doors.doors[i]&&choice==="door-"+i?(addClass("door-"+i,"door-wrong"),changeText("door-"+i,"zonk")):(addClass("door-"+i,"door-zonk"),changeText("door-"+i,"zonk"));allDoorsOpen=!0}function setFirstChosenDoor(door){firstChosenDoor=door,chooseDoor(firstChosenDoor),addLogMessage(logMessages.chooseFirstDoor()),openFirstDoor(),choice=door}function setSecondChosenDoor(door){secondChosenDoor=door,addLogMessage(logMessages.chooseSecondDoor()),chooseDoor(secondChosenDoor),choice=door}function addLogMessage(message){var newLi=document.createElement("li"),text=document.createTextNode(message);newLi.classList.add("message-log"),newLi.appendChild(text),logContainer.appendChild(newLi)}function removeLogMessages(){for(;logContainer.lastChild;)logContainer.removeChild(logContainer.lastChild)}function clear(){var i;for(firstChosenDoor=null,secondChosenDoor=null,choice=null,firstOpened=null,allDoorsOpen=!1;getElementById("doors-container").lastChild;)getElementById("doors-container").removeChild(getElementById("doors-container").lastChild);for(Doors.generate(oneHundredMode?100:3),removeLogMessages(),i=0;i<Doors.doors.length;i++)getElementById("door-"+i).classList.remove("door-chosen","door-zonk","door-car","door-wrong","door-car-was"),changeText("door-"+i,i+1);getElementById("status").classList.remove("won","lose"),getElementById("status").innerHTML="",removeClass("change-door-total","blue"),removeClass("without-change-door-total","blue"),removeClass("total","blue"),removeClass("win-change-door","green"),removeClass("win-without-change-door","green"),removeClass("lose-change-door","red"),removeClass("lose-without-change-door","red")}var firstChosenDoor,secondChosenDoor,choice,firstOpened,lastDoor,elements=[],pt_br=global.pt_br?!0:!1,allDoorsOpen=!1,logContainer=getElementById("log"),automatic=!1,mode=!1,alternateMode=!0,oneHundredMode=!1,showAbout=!1,results={winsChangeDoor:0,loseChangeDoor:0,winsWithoutChangeDoor:0,loseWithoutChangeDoor:0,updateTable:function(){getElementById("change-door-total").innerHTML=this.totalChangeDoor(),getElementById("without-change-door-total").innerHTML=this.totalWithoutChangeDoor(),getElementById("total").innerHTML=this.totalMatches()},setWin:function(){secondChosenDoor?(this.winsChangeDoor+=1,getElementById("win-change-door").innerHTML=this.winsChangeDoor,addClass("win-change-door","green"),addClass("change-door-total","blue")):(this.winsWithoutChangeDoor+=1,getElementById("win-without-change-door").innerHTML=this.winsWithoutChangeDoor,addClass("win-without-change-door","green"),addClass("without-change-door-total","blue")),addClass("status","won"),removeClass("status","lose"),getElementById("status").innerHTML=pt_br?"Ganhou!":"WON!",this.updateTable()},setLose:function(){secondChosenDoor?(this.loseChangeDoor+=1,getElementById("lose-change-door").innerHTML=this.loseChangeDoor,addClass("lose-change-door","red"),addClass("change-door-total","blue")):(this.loseWithoutChangeDoor+=1,getElementById("lose-without-change-door").innerHTML=this.loseWithoutChangeDoor,addClass("without-change-door-total","blue"),addClass("lose-without-change-door","red")),removeClass("status","won"),addClass("status","lose"),getElementById("status").innerHTML=pt_br?"Perdeu!":"LOSE!",this.updateTable()},totalChangeDoor:function(){return this.winsChangeDoor+this.loseChangeDoor},totalWithoutChangeDoor:function(){return this.winsWithoutChangeDoor+this.loseWithoutChangeDoor},totalMatches:function(){return addClass("total","blue"),this.totalChangeDoor()+this.totalWithoutChangeDoor()}},logMessages={win:function(){return pt_br?"Você ganhou! Porta número "+extractDoorNumber(choice)+" tem um carro!":"You won! Door number "+extractDoorNumber(choice)+" have a car!"},lose:function(doorWithCar){return pt_br?"Você perdeu! Porta número "+doorWithCar+" have a car and you choose door number "+extractDoorNumber(choice):"You lose! Door number "+doorWithCar+" have a car and you choose door number "+extractDoorNumber(choice)},askForChangeDoor:function(){var door;return door=oneHundredMode?lastDoor:"door-"+Doors.numbersIds.filter(function(element){return!(element===extractDoorNumber(firstOpened)-1||element===extractDoorNumber(firstChosenDoor)-1)}),pt_br?"Você quer escolher a porta numero "+extractDoorNumber(door)+"?":"Do you want to pick door number "+extractDoorNumber(door)+"?"},firstOpenedDoor:function(){return pt_br?"Porta numero "+extractDoorNumber(firstOpened)+" tem um 'zonk'!":"Door number "+extractDoorNumber(firstOpened)+" have a zonk!"},chooseFirstDoor:function(){return pt_br?"Você escolheu a porta numero "+extractDoorNumber(firstChosenDoor):"You choose the door number "+extractDoorNumber(firstChosenDoor)},chooseSecondDoor:function(){return pt_br?"Você escolheu trocar a porta numero "+extractDoorNumber(firstChosenDoor)+" pela porta numero "+extractDoorNumber(secondChosenDoor):"You choose change your door ( "+extractDoorNumber(firstChosenDoor)+" ) to the door number "+extractDoorNumber(secondChosenDoor)},allDoorsOpen:function(){return pt_br?"Todas as portas foram abertas":"All doors open!"}},Doors={quantity:0,doors:[],withCar:0,numbersIds:[],setQuantity:function(quantity){this.quantity=quantity},generate:function(quantity){var i,randomNumber=Math.round(random(0,quantity-1));for(this.doors=[],this.numbersIds=[],i=0;quantity>i;i++)this.numbersIds.push(i),i===randomNumber?(this.doors.push("car"),this.withCar=i):this.doors.push("zonk"),addDoor(i);this.setQuantity(this.doors.length)}};Doors.generate(oneHundredMode?100:3),getElementById("stage").onclick=function(event){var clickedDoor=event.target?event.target.id:event.srcElement.id;return/door-\d*/g.test(clickedDoor)?void(firstChosenDoor?secondChosenDoor||clickedDoor===firstChosenDoor||!/door-\d*/g.test(firstOpened)||getElementById(clickedDoor).classList.contains("door-zonk")||allDoorsOpen||setSecondChosenDoor(clickedDoor):setFirstChosenDoor(clickedDoor)):!1},getElementById("new").onclick=clear,getElementById("open").onclick=openDoors,getElementById("auto").onclick=function(){automatic=!automatic,automatic&&(getElementById("auto").innerHTML=pt_br?"Parar Automático":"Stop Automatic");var intervalId=setInterval(function(){if(automatic||(clearInterval(intervalId),getElementById("auto").innerHTML=pt_br?"Automático":"Automatic"),allDoorsOpen&&(clear(),alternateMode&&(mode=!mode)),firstChosenDoor){if(!secondChosenDoor&&firstOpened&&!allDoorsOpen&&mode){if(oneHundredMode)return setSecondChosenDoor(lastDoor),!1;setSecondChosenDoor("door-"+Doors.numbersIds.filter(function(element){return!(element===extractDoorNumber(firstOpened)-1||element===extractDoorNumber(firstChosenDoor)-1)}))}}else setFirstChosenDoor("door-"+randomChoice(Doors.numbersIds));(firstChosenDoor||mode&&secondChosenDoor)&&openDoors()},500)},getElementById("one-hundred").onclick=function(){oneHundredMode=!oneHundredMode,oneHundredMode&&(getElementById("one-hundred").innerHTML=pt_br?"3 Portas":"3 Doors"),oneHundredMode||(getElementById("one-hundred").innerHTML=pt_br?"100 Portas":"100 Doors",removeClass("door-0","door-100"),removeClass("door-1","door-100"),removeClass("door-2","door-100")),clear(),automatic=!1},getElementById("about").onclick=function(e){e.preventDefault(),showAbout=!showAbout,showAbout?removeClass("about-container","visuallyhidden"):addClass("about-container","visuallyhidden")}}(window);